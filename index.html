<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>SAPP - Klientenverwaltung</title>
    <style>
        /* (Dein bisheriges Design bleibt gleich, ich f√ºge nur die Logik-Styles hinzu) */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: #1a1c24; color: white; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; }
        header { padding: 20px; padding-top: calc(20px + env(safe-area-inset-top)); }
        header h1 { color: #00d4ff; font-size: 24px; }

        main { flex: 1; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .card { background-color: #252833; width: 100%; border-radius: 20px; padding: 30px 20px; text-align: center; border: 1px solid #333; margin-bottom: 20px; transition: all 0.3s; }
        
        .btn-green { background-color: #2e7d32; color: white; border: none; width: 100%; padding: 15px; border-radius: 50px; font-weight: bold; cursor: pointer; margin-bottom: 20px; }
        .btn-green:active { background-color: #1b5e20; transform: scale(0.98); }

        .mic-section { display: flex; flex-direction: column; align-items: center; gap: 10px; opacity: 0.5; transition: opacity 0.5s; }
        .mic-section.active { opacity: 1; }
        .mic-button { background: radial-gradient(circle, #4facfe 0%, #00f2fe 100%); width: 80px; height: 80px; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: 0 0 20px rgba(79, 172, 254, 0.5); border: none; cursor: pointer; }
        .mic-button:active { transform: scale(0.9); }

        nav.bottom-nav { background-color: #252833; display: flex; justify-content: space-around; padding: 15px 0; padding-bottom: calc(15px + env(safe-area-inset-bottom)); border-top: 1px solid #333; }
        .nav-item { text-align: center; color: #888; text-decoration: none; font-size: 12px; cursor: pointer; flex: 1; }
        .nav-item.active { color: #00d4ff; }
        .nav-icon { font-size: 20px; display: block; margin-bottom: 4px; }

        /* Einfaches Fenster f√ºr Klientenwahl */
        #modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; z-index: 100; }
        .modal-content { background: #252833; padding: 20px; border-radius: 20px; width: 80%; text-align: center; }
        .client-list-item { padding: 15px; border-bottom: 1px solid #333; cursor: pointer; color: #00d4ff; }
    </style>
</head>
<body>

    <header>
        <h1 id="app-title">SAPP</h1>
    </header>

    <main id="content-area">
        <div class="card" id="status-card">
            <p id="status-text">Die Akte ist leer. W√§hle zuerst einen Klienten.</p>
        </div>

        <button class="btn-green" onclick="openClientModal()">Klient w√§hlen</button>

        <div class="mic-section" id="mic-area">
            <button class="mic-button" onclick="startMic()">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
                    <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
                    <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
                </svg>
            </button>
            <span id="mic-label">Bereit f√ºr Eingabe</span>
        </div>
    </main>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab(this, 'Home')"><span class="nav-icon">üè†</span>Home</div>
        <div class="nav-item" onclick="switchTab(this, 'Klienten')"><span class="nav-icon">üë§</span>Klienten</div>
        <div class="nav-item" onclick="switchTab(this, 'Erstellen')"><span class="nav-icon">‚ûï</span>Erstellen</div>
        <div class="nav-item" onclick="switchTab(this, 'Optionen')"><span class="nav-icon">‚öôÔ∏è</span>Setup</div>
    </nav>

    <div id="modal">
        <div class="modal-content">
            <h3>Klienten ausw√§hlen</h3>
            <div class="client-list-item" onclick="selectClient('Max Mustermann')">Max Mustermann</div>
            <div class="client-list-item" onclick="selectClient('Erika Musterfrau')">Erika Musterfrau</div>
            <br>
            <button class="btn-green" style="background:#555" onclick="closeModal()">Abbrechen</button>
        </div>
    </div>

    <script>
        let selectedClient = null;

        // Tab-Wechsel Logik
        function switchTab(element, tabName) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            element.classList.add('active');
            document.getElementById('app-title').innerText = 'SAPP - ' + tabName;
            
            if(tabName === 'Erstellen') {
                alert("Hier kannst du bald neue Klienten anlegen!");
            }
        }

        // Klienten-Modal Funktionen
        function openClientModal() {
            document.getElementById('modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }

        function selectClient(name) {
            selectedClient = name;
            document.getElementById('status-text').innerHTML = "Aktiver Klient: <br><strong>" + name + "</strong>";
            document.getElementById('status-card').style.borderColor = "#00d4ff";
            document.getElementById('mic-area').classList.add('active');
            closeModal();
        }

        // Mikrofon Logik
        function startMic() {
            if (!selectedClient) {
                alert("Bitte w√§hle zuerst einen Klienten aus!");
                return;
            }
            
            let label = document.getElementById('mic-label');
            label.innerText = "H√∂re zu...";
            label.style.color = "#00d4ff";
            
            // Simuliert eine Aufnahme f√ºr 3 Sekunden
            setTimeout(() => {
                label.innerText = "Bereit f√ºr Eingabe";
                label.style.color = "#888";
                alert("Sprache wurde f√ºr " + selectedClient + " erfasst (Demo)");
            }, 3000);
        }
    </script>

</body>
</html>
